<div class="container">
    <div class="card p-4 mt-4 mb-5">

        <div class="d-flex justify-content-between pb-2">
            <span class="h4 fw-bold mt-1">Orders</span>
            <div class="d-flex justify-content-end">
                <button type="button" pButton pRipple icon="pi pi-file" (click)="orderDt.exportCSV()"
                    class="p-button-rounded p-button-outlined mx-2" pTooltip="CSV" tooltipPosition="bottom"></button>
                <button type="button" pButton pRipple icon="pi pi-file-excel"
                    class="p-button-rounded p-button-outlined p-button-success mr-2" pTooltip="XLS"
                    tooltipPosition="bottom" (click)="exportExcel()"></button>
                <button type="button" pButton pRipple icon="pi pi-file-pdf"
                    class="p-button-rounded p-button-outlined p-button-warning mr-2" pTooltip="PDF"
                    tooltipPosition="bottom" (click)="exportPdf()"></button>
                <button type="button" pButton pRipple icon="pi pi-filter"
                    (click)="orderDt.exportCSV({selectionOnly:true})"
                    class="p-button-rounded p-button-outlined p-button-info" pTooltip="Selection Only"
                    tooltipPosition="bottom"></button>
            </div>
        </div>

        <p-table #orderDt styleClass="p-datatable-sm" responsiveLayout="scroll" [value]="orders" [rowHover]="true"
            selectionMode="multiple" dataKey="_id" [resizableColumns]="true" columnResizeMode="expand"
            [globalFilterFields]="['name', 'price', 'unit', 'type', 'status']">
            <ng-template pTemplate="caption">
                <div class="flex">
                    <span class="p-input-icon-left ml-auto">
                        <i class="pi pi-search"></i>
                        <input pInputText type="text" (input)="filter(orderDt, $event)" placeholder="Search keyword" />
                        <button pButton pRipple type="button" icon="pi pi-filter-slash"
                            class="p-button-rounded p-button-text" (click)="orderDt.clear()"></button>
                    </span>
                </div>
            </ng-template>

            <ng-template pTemplate="header" let-columns>
                <tr>
                    <th pSortableColumn="name">
                        User <p-sortIcon field="user"></p-sortIcon>
                    </th>
                    <th pSortableColumn="address">
                        Address <p-sortIcon field="address"></p-sortIcon>
                    </th>
                    <th pSortableColumn="area">
                        Area <p-sortIcon field="area"></p-sortIcon>
                    </th>
                    <th pSortableColumn="amount">
                        Amount <p-sortIcon field="amount"></p-sortIcon>
                    </th>
                </tr>
            </ng-template>

            <ng-template pTemplate="body" let-order>
                <tr [pSelectableRow]="order">

                </tr>
            </ng-template>

            <ng-template pTemplate="emptymessage">
                <tr>
                    <td colspan="7" class="text-center">There are no orders yet.</td>
                </tr>
            </ng-template>
        </p-table>
        <p-progressBar *ngIf="isLoading" mode="indeterminate" [style]="{'height': '6px'}"></p-progressBar>
    </div>
</div>